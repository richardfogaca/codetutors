{% extends "layout.html" %}

{% block head %}

    <link rel= "stylesheet" type= "text/css" href= "{{ url_for('static',filename='styles/main.css') }}">
    
    <script src="{{ url_for('static',filename='styles/main.js') }}"></script>

{% endblock %}

{% block content %}
    <div class="container-fluid mt-3">
        <div class="row">
            <div class="col-3 pl-3 pt-3">
                {% if user.profile_img %}
                <img class="avatar" src="{{ url_for('display_image', filename=user.profile_img) }}" alt="User thumbnail">
                {% else %}
                <img class="avatar" src="{{ user.avatar() }}" alt="User thumbnail">
                {% endif %}
            </div>
            <div class="col-9 pl-3 pt-3">
                <div class="row">
                    <h1>User: {{ user.first_name }} {{ user.last_name }}</h1><br>
                </div>
                <div class="row pt-3">
                    <form action="{{ url_for('edit_profile') }}" enctype="multipart/form-data" method="POST">
                        {{ profile_form.csrf_token() }}
                        {{ profile_form.about_me.label }} {{ profile_form.about_me(cols="60", rows="5") }}
                        {{ profile_form.save }}
                    </form>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-3">
                <form action="{{ url_for('edit_profile') }}" enctype="multipart/form-data" method="POST">
                    <div>
                        <div>
                            {{ image_form.csrf_token }}
                            {{ image_form.profile_img }}
                            <label for="profile_img"><span>Select file</span></label>
                        </div>
                        <div class="input-group-append">
                            {{ image_form.upload(class="input-group-text") }}
                        </div>
                </form>
            </div>
            <div class="col-9">
            
            </div>    
        </div>
    </div>
    
    {% for error in profile_form.errors %}
        <small class="text-danger">{{ error }}</small>  
    {% endfor %}
    
{% endblock %}